<div class="page-header">
  <h1><%= @current_date.strftime("%A, %d %B, %Y") %></h1>
</div>

<ul>
  <% @logs.each do |log| %>
    <li>
      <%= log.content %>
      <%= log.to_json %>
    </li>
  <% end %>
</ul>

<div class="span6" style="width: 300px;">
  <table class="table table-bordered time-selectable">
    <% 48.times.each do |i| %>
      <tr>
        <td><%= i.even? ? "#{i / 2}:00"  : '--'  %></td>
        <td class="time-segment">
          <input type="hidden" class="time-slot-start" value="<%= "%d:%02d" % [i/2, (i%2) * 30] %>">
          <% j = i + 1 %>
          <input type="hidden" class="time-slot-end" value="<%= "%d:%02d" % [j/2, (j%2) * 30] %>">
        </td>
      </tr>
    <% end %>
  </table>
</div>

<div class="modal fade" id="logFormModal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Log from <span id="logStartTime">(start_time)</span> to <span id="logEndTime">(end_time)</span>, <%= @current_date %></h4>
      </div>
      <div class="modal-body">
        <form id="logForm">
          <input type="hidden" name="log_id"></input>
          <input type="hidden" id="logDateHidden" value="<%= @current_date %>"></input>
          <input type="hidden" name="start_time"></input>
          <div class="form-group">
            <label for="logContentInput">Content</label>
            <input class="form-control" id="logContentInput">
          </div>
          <div class="form-group">
            <label for="logExtraTextarea">Extra</label>
            <textarea rows="5" class="form-control" id="logExtraTextarea"></textarea>
          </div>
          <div class="form-group">
            <label for="logTagArea">Tags</label>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" id="save_log" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
